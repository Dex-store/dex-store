<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>DEX treading | Ù…ØªØ¬Ø± Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</title>
  <meta name="description" content="DEX treading - Ù…ØªØ¬Ø± Ø®Ø¯Ù…Ø§Øª ÙˆÙ…Ù†ØªØ¬Ø§Øª Ø±Ù‚Ù…ÙŠØ© Ù„Ù„ØªØ¯Ø§ÙˆÙ„: ÙƒÙˆØ±Ø³Ø§ØªØŒ Ø´Ø­Ù† USDTØŒ Ø­Ø³Ø§Ø¨Ø§Øª ExnessØŒ Ø¨ÙˆØªØ§Øª ØªØ¯Ø§ÙˆÙ„ Ø¢Ù„ÙŠ."/>
  <style>
    :root{
      --bg:#070A12; --card:rgba(255,255,255,.06); --border:rgba(255,255,255,.12);
      --text:#fff; --muted:#b8c2e6; --brand:#1e5bff; --brand2:#4f7cff;
      --ok:#27d17c; --danger:#ff5b5b; --shadow:0 12px 28px rgba(0,0,0,.35);
      --r:18px; --r2:22px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
      background:radial-gradient(1200px 500px at 20% -10%, rgba(30,91,255,.25), transparent 60%),
                 radial-gradient(1200px 500px at 80% -10%, rgba(79,124,255,.18), transparent 60%),
                 var(--bg);
      color:var(--text)}
    a{color:inherit;text-decoration:none}
    button{font-family:inherit}
    .container{max-width:1160px;margin:0 auto;padding:18px}
    .topbar{position:sticky;top:0;z-index:50;background:rgba(5,6,11,.72);
      backdrop-filter: blur(10px);border-bottom:1px solid var(--border);}
    .topbar .container{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .brand{display:flex;align-items:center;gap:12px;min-width:180px}
    .logo{width:44px;height:44px;border-radius:14px;background:linear-gradient(135deg,var(--brand),var(--brand2));
      box-shadow:0 10px 18px rgba(30,91,255,.25);display:grid;place-items:center;font-weight:900}
    .tagline{font-size:12px;color:var(--muted);line-height:1.2}
    .nav{display:flex;align-items:center;gap:8px;flex-wrap:wrap;justify-content:flex-end}
    .btn{display:inline-flex;align-items:center;justify-content:center;gap:10px;padding:10px 14px;border-radius:14px;
      border:1px solid var(--border);background:rgba(255,255,255,.06);color:var(--text);cursor:pointer;user-select:none;white-space:nowrap}
    .btn.primary{border:none;background:linear-gradient(135deg,var(--brand),#2d5bff)}
    .btn.ok{border:none;background:linear-gradient(135deg,#2ad67a,#0aa36b)}
    .btn.danger{border:1px solid rgba(255,91,91,.35);background:rgba(255,91,91,.12);color:#ffd6d6}
    .cartBtn{position:relative}
    .bubble{position:absolute;top:-7px;right:-7px;width:18px;height:18px;border-radius:999px;background:var(--danger);
      display:grid;place-items:center;font-size:11px;font-weight:900;border:2px solid rgba(5,6,11,.9)}
    .hero{padding:24px 0 8px}
    .heroGrid{display:grid;grid-template-columns:1.25fr .75fr;gap:16px}
    @media (max-width:920px){.heroGrid{grid-template-columns:1fr}}
    .card{background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.04));
      border:1px solid var(--border);border-radius:var(--r2);box-shadow:var(--shadow);padding:16px}
    .card.soft{box-shadow:none;background:rgba(255,255,255,.04)}
    .muted{color:var(--muted)} .small{font-size:12px}
    .h1{font-size:30px;line-height:1.1;margin:0 0 10px}
    @media (max-width:520px){.h1{font-size:26px}}
    .lead{margin:0 0 16px;color:var(--muted);line-height:1.6}
    .ctaRow{display:flex;gap:10px;flex-wrap:wrap}
    .kpis{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:14px}
    @media (max-width:700px){.kpis{grid-template-columns:1fr}}
    .kpi{padding:12px;border-radius:18px;border:1px solid var(--border);background:rgba(0,0,0,.12)}
    .kpi strong{display:block;font-size:14px}
    .kpi span{display:block;color:var(--muted);font-size:12px;margin-top:4px}
    .sectionHead{display:flex;align-items:flex-end;justify-content:space-between;gap:12px;margin:18px 0 10px;flex-wrap:wrap}
    .sectionHead h2{margin:0;font-size:18px}
    .gridProducts{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
    @media (max-width:1100px){.gridProducts{grid-template-columns:repeat(3,1fr)}}
    @media (max-width:820px){.gridProducts{grid-template-columns:repeat(2,1fr)}}
    @media (max-width:520px){.gridProducts{grid-template-columns:1fr}}
    .product{border:1px solid var(--border);border-radius:var(--r2);background:rgba(255,255,255,.04);overflow:hidden;display:flex;flex-direction:column;min-height:290px}
    .pMedia{height:140px;background:radial-gradient(500px 200px at 20% 0%, rgba(30,91,255,.35), transparent 60%),
      radial-gradient(500px 200px at 80% 0%, rgba(79,124,255,.28), transparent 60%), rgba(0,0,0,.18);
      border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:center;position:relative}
    .pBadges{position:absolute;top:10px;left:10px;display:flex;gap:8px;flex-wrap:wrap}
    .badge{font-size:11px;padding:6px 10px;border-radius:999px;background:rgba(0,0,0,.25);border:1px solid var(--border);color:var(--muted)}
    .pBody{padding:12px;display:flex;flex-direction:column;gap:8px;flex:1}
    .pTitle{font-weight:900;line-height:1.3}
    .pDesc{color:var(--muted);font-size:12px;line-height:1.5;min-height:34px}
    .pFooter{display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap;margin-top:auto}
    .price{font-weight:900} .price span{font-weight:700;color:var(--muted);font-size:12px;margin-inline-start:6px}
    .svg{width:82px;height:82px;opacity:.95;filter: drop-shadow(0 10px 14px rgba(0,0,0,.35));}
    .overlay{position:fixed;inset:0;background:rgba(0,0,0,.55);display:none;z-index:70}
    .overlay.show{display:block}
    .drawer{position:fixed;top:0;bottom:0;right:0;width:min(420px,92vw);background:rgba(5,6,11,.92);
      backdrop-filter:blur(12px);border-left:1px solid var(--border);box-shadow:-20px 0 40px rgba(0,0,0,.45);
      transform:translateX(105%);transition:transform .22s ease;z-index:80;display:flex;flex-direction:column}
    [dir="ltr"] .drawer{right:auto;left:0;border-left:none;border-right:1px solid var(--border);box-shadow:20px 0 40px rgba(0,0,0,.45);transform:translateX(-105%)}
    .drawer.show{transform:translateX(0)}
    .drawerHead{display:flex;align-items:center;justify-content:space-between;gap:10px;padding:14px;border-bottom:1px solid var(--border)}
    .drawerBody{padding:14px;overflow:auto;display:flex;flex-direction:column;gap:10px;flex:1}
    .drawerFoot{padding:14px;border-top:1px solid var(--border);display:flex;flex-direction:column;gap:10px}
    .line{height:1px;background:var(--border);margin:6px 0}
    .cartItem{border:1px solid var(--border);border-radius:18px;background:rgba(255,255,255,.04);padding:10px;display:flex;gap:10px;align-items:center;justify-content:space-between}
    .ciLeft{display:flex;gap:10px;align-items:center}
    .ciIcon{width:42px;height:42px;border-radius:14px;background:rgba(30,91,255,.18);border:1px solid var(--border);display:grid;place-items:center}
    .ciName{font-weight:900;font-size:13px;line-height:1.2}
    .ciMeta{font-size:12px;color:var(--muted);margin-top:4px}
    .ciRight{display:flex;align-items:center;gap:8px;flex-wrap:wrap;justify-content:flex-end}
    .qty{display:inline-flex;align-items:center;gap:8px;border:1px solid var(--border);border-radius:999px;padding:6px 8px;background:rgba(0,0,0,.15)}
    .qty button{width:26px;height:26px;border-radius:999px;border:1px solid var(--border);background:rgba(255,255,255,.06);color:var(--text);cursor:pointer}
    .qty span{min-width:16px;text-align:center;font-weight:900}
    .pages{padding:8px 0 26px}
    .page{display:none} .page.active{display:block}
    .formGrid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media (max-width:860px){.formGrid{grid-template-columns:1fr}}
    .field{display:flex;flex-direction:column;gap:6px}
    label{font-size:12px;color:var(--muted)}
    input,select,textarea{width:100%;padding:12px;border-radius:14px;border:1px solid var(--border);background:rgba(0,0,0,.18);color:var(--text);outline:none}
    textarea{min-height:110px;resize:vertical}
    table{width:100%;border-collapse:collapse} th,td{padding:10px;border-bottom:1px solid var(--border);text-align:start}
    th{font-size:12px;color:var(--muted);font-weight:800}
    .notice{border:1px dashed rgba(255,255,255,.22);background:rgba(255,255,255,.03);border-radius:18px;padding:12px;color:var(--muted);line-height:1.6;font-size:13px}
    .mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;word-break:break-all}
    .footer{margin-top:18px;padding:18px 0;color:var(--muted);text-align:center;border-top:1px solid var(--border);font-size:12px}
  </style>
</head>

<body>
<header class="topbar">
  <div class="container">
    <div class="brand">
      <div class="logo">DX</div>
      <div>
        <div style="font-weight:900;font-size:14px">DEX treading</div>
        <div class="tagline" id="tagline">Ù…Ø¹Ù‹Ø§ Ù„Ù†Ø´Ø± Ø§Ù„Ù…Ø¹Ø±ÙØ© Ø§Ù„Ù…Ø§Ù„ÙŠØ© ÙÙŠ Ø¯ÙˆÙ„ Ø£ÙØ±ÙŠÙ‚ÙŠØ§ Ùˆ Ø´Ù…Ø§Ù„ Ø£ÙØ±ÙŠÙ‚ÙŠØ§</div>
      </div>
    </div>

    <nav class="nav">
      <a class="btn" href="#home" id="navHome">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
      <a class="btn" href="#services" id="navServices">Ø§Ù„Ø®Ø¯Ù…Ø§Øª ÙˆØ§Ù„Ø£Ø³Ø¹Ø§Ø±</a>
      <a class="btn" href="#checkout" id="navCheckout">Ø§Ù„Ø¯ÙØ¹ ÙˆØ§Ù„Ø´Ø±Ø§Ø¡</a>

      <button class="btn cartBtn" id="openCartBtn" type="button">
        <span id="cartBtnText">Ø§Ù„Ø³Ù„Ø©</span>
        <span class="bubble" id="cartCountBubble" style="display:none">0</span>
      </button>

      <button class="btn primary" id="langBtn" type="button">EN</button>
    </nav>
  </div>
</header>

<div class="overlay" id="overlay"></div>
<aside class="drawer" id="drawer">
  <div class="drawerHead">
    <div style="font-weight:900" id="cartTitle">Ø§Ù„Ø³Ù„Ø©</div>
    <button class="btn" id="closeCartBtn" type="button">âœ•</button>
  </div>
  <div class="drawerBody" id="cartItems"></div>
  <div class="drawerFoot">
    <div class="notice" id="cartEmptyNotice" style="display:none">Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©.</div>
    <div class="line"></div>
    <div style="display:flex;align-items:center;justify-content:space-between;gap:10px">
      <div style="font-weight:900" id="subtotalLabel">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</div>
      <div style="font-weight:900" id="subtotalValue">0.00 USD</div>
    </div>
    <div style="display:flex;gap:10px;flex-wrap:wrap">
      <button class="btn danger" id="clearCartBtn" type="button">ØªÙØ±ÙŠØº Ø§Ù„Ø³Ù„Ø©</button>
      <a class="btn ok" href="#checkout" id="goCheckoutFromCart">Ø§Ù„Ø°Ù‡Ø§Ø¨ Ù„Ù„Ø¯ÙØ¹</a>
    </div>
  </div>
</aside>

<main class="pages">
  <section class="page active" id="home">
    <div class="container hero">
      <div class="heroGrid">
        <div class="card">
          <h1 class="h1" id="heroTitle">Ù…ØªØ¬Ø± DEX treading</h1>
          <p class="lead" id="heroDesc">Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†ØªØ¬ØŒ Ø£Ø¶ÙÙ‡ Ù„Ù„Ø³Ù„Ø©ØŒ Ø«Ù… Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¯ÙØ¹.</p>
          <div class="ctaRow">
            <a class="btn primary" href="#products" id="heroShopBtn">ØªØµÙØ­ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a>
            <a class="btn ok" href="#checkout" id="heroCheckoutBtn">Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø´Ø±Ø§Ø¡</a>
            <a class="btn" href="#services" id="heroServicesBtn">Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹ ÙˆØ§Ù„Ø£Ø³Ø¹Ø§Ø±</a>
          </div>

          <div class="kpis">
            <div class="kpi"><strong id="kpi1Title">AR / EN</strong><span id="kpi1Desc">ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù„ØºØ© Ø¨Ø¶ØºØ·Ø©</span></div>
            <div class="kpi"><strong id="kpi2Title">Ø¯ÙØ¹ Ù…Ø±Ù†</strong><span id="kpi2Desc">Ø¨Ù†Ùƒ / ÙÙˆØ±ÙŠ / Ø¨Ø§ÙŠÙ†Ù†Ø³ / ERC20</span></div>
            <div class="kpi"><strong id="kpi3Title">Ø·Ù„Ø¨ Ø¬Ø§Ù‡Ø²</strong><span id="kpi3Desc">ØªÙˆÙ„ÙŠØ¯ Ù†Øµ Ø§Ù„Ø·Ù„Ø¨ + Ù†Ø³Ø®Ø© ÙˆØ¥Ø±Ø³Ø§Ù„</span></div>
          </div>
        </div>

        <div class="card soft">
          <div style="display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap">
            <div>
              <div style="font-weight:900;font-size:14px" id="quickTitle">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø³Ø±ÙŠØ¹Ø©</div>
              <div class="muted small" id="quickDesc">Ø¹Ù†ÙˆØ§Ù† ERC20 Ø¬Ø§Ù‡Ø² Ù„Ù„Ù†Ø³Ø®</div>
            </div>
            <button class="btn" id="copyEthTopBtn" type="button">Ù†Ø³Ø® Ø¹Ù†ÙˆØ§Ù† ETH</button>
          </div>

          <div class="notice" style="margin-top:12px">
            <div style="font-weight:900;margin-bottom:6px" id="ethBoxTitle">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¯ÙØ¹ Ø¹Ù„Ù‰ Ø´Ø¨ÙƒØ© Ethereum (ERC20)</div>
            <div class="mono" id="ethAddress"></div>
            <div class="muted small" style="margin-top:6px" id="ethHint">Ø£Ø±Ø³Ù„ USDT (ERC20) Ø£Ùˆ ETH Ø¥Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙÙ‚Ø·.</div>
          </div>

          <div class="notice" style="margin-top:12px">
            <div style="font-weight:900;margin-bottom:6px" id="priceRuleTitle">Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±</div>
            <div class="muted" id="priceRuleBody">ÙƒÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„Ø®Ø¯Ù…Ø§Øª = 10$ â€” Ø§Ù„Ø¨ÙˆØªØ§Øª = 30$ â€” Ø¨ÙˆØª Ø§Ù„Ø°Ù‡Ø¨ = 50$</div>
          </div>
        </div>
      </div>

      <div class="sectionHead" id="products" style="scroll-margin-top:90px">
        <h2 id="productsTitle">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„Ø®Ø¯Ù…Ø§Øª</h2>
        <div class="muted" id="productsSubtitle">Ø§Ø¶ØºØ· (Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©) Ø«Ù… Ø§Ø°Ù‡Ø¨ Ù„Ù„Ø¯ÙØ¹.</div>
      </div>

      <div class="gridProducts" id="productsGrid"></div>

      <div class="footer">
        <div>Â© <span id="year"></span> DEX treading</div>
        <div id="footerNote">ÙŠÙ…ÙƒÙ† Ø±Ø¨Ø· Ø§Ù„Ù…ØªØ¬Ø± Ù„Ø§Ø­Ù‚Ù‹Ø§ Ø¨ÙˆØ§ØªØ³Ø§Ø¨/Google Sheets Ø¨Ø³Ù‡ÙˆÙ„Ø©.</div>
      </div>
    </div>
  </section>

  <section class="page" id="services">
    <div class="container">
      <div class="sectionHead">
        <h2 id="servicesTitle">Ø§Ù„Ø®Ø¯Ù…Ø§Øª ÙˆØ§Ù„Ø£Ø³Ø¹Ø§Ø±</h2>
        <div class="muted" id="servicesSubtitle">ÙƒÙ„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø¨Ø§Ù„Ø¯ÙˆÙ„Ø§Ø± (USD) ÙˆÙŠÙ…ÙƒÙ† Ø§Ù„Ø¯ÙØ¹ Ø¨Ø§Ù„Ø·Ø±Ù‚ Ø§Ù„ØªØ§Ù„ÙŠØ©.</div>
      </div>

      <div class="card">
        <div class="formGrid">
          <div>
            <h3 style="margin:0 0 10px" id="pricingTitle">Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±</h3>
            <div class="muted small" id="pricingHint">Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø«Ø§Ø¨ØªØ© Ø­Ø³Ø¨ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ù…ØªÙÙ‚ Ø¹Ù„ÙŠÙ‡Ø§.</div>
            <div style="height:10px"></div>
            <div style="overflow:auto">
              <table>
                <thead>
                  <tr><th id="thItem">Ø§Ù„Ù…Ù†ØªØ¬/Ø§Ù„Ø®Ø¯Ù…Ø©</th><th id="thCat">Ø§Ù„ØªØµÙ†ÙŠÙ</th><th id="thPrice">Ø§Ù„Ø³Ø¹Ø±</th></tr>
                </thead>
                <tbody id="pricingTable"></tbody>
              </table>
            </div>
          </div>

          <div>
            <h3 style="margin:0 0 10px" id="payTitle">Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹</h3>

            <div class="notice" style="margin-bottom:10px">
              <div style="font-weight:900" id="pay1Title">Ø¨Ù†Ùƒ Ø§Ù„Ø®Ø±Ø·ÙˆÙ…</div>
              <div class="muted" id="pay1Val">Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨: 8108407</div>
            </div>

            <div class="notice" style="margin-bottom:10px">
              <div style="font-weight:900" id="pay2Title">ÙÙˆØ±ÙŠ Ø³ÙˆØ¯Ø§Ù†</div>
              <div class="muted" id="pay2Val">Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨: 52000220</div>
            </div>

            <div class="notice" style="margin-bottom:10px">
              <div style="font-weight:900" id="pay3Title">Binance Pay</div>
              <div class="muted" id="pay3Val">Ø§Ù„Ù…Ø¹Ø±Ù‘Ù: 850037703</div>
            </div>

            <div class="notice">
              <div style="display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap">
                <div>
                  <div style="font-weight:900" id="pay4Title">Ø¹Ù…Ù„Ø§Øª Ø±Ù‚Ù…ÙŠØ© (ERC20)</div>
                  <div class="muted small" id="pay4Hint">Ø§Ù†Ø³Ø® Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø£Ø¯Ù†Ø§Ù‡</div>
                </div>
                <button class="btn" id="copyEthBtn" type="button">Ù†Ø³Ø® Ø¹Ù†ÙˆØ§Ù† ETH</button>
              </div>
              <div style="height:8px"></div>
              <div class="mono" id="ethAddress2"></div>
            </div>

            <div style="height:12px"></div>
            <div class="notice" id="afterPayNote">Ø¨Ø¹Ø¯ Ø§Ù„Ø¯ÙØ¹: Ø§Ø°Ù‡Ø¨ Ù„ØµÙØ­Ø© (Ø§Ù„Ø¯ÙØ¹ ÙˆØ§Ù„Ø´Ø±Ø§Ø¡) ÙˆØ§ÙƒØªØ¨ TxID/Ø±Ù‚Ù… Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ù„ØªÙˆÙ„ÙŠØ¯ Ù†Øµ Ø§Ù„Ø·Ù„Ø¨.</div>

            <div style="height:12px"></div>
            <div style="display:flex;gap:10px;flex-wrap:wrap">
              <a class="btn primary" href="#home" id="backHomeBtn">Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
              <a class="btn ok" href="#checkout" id="goCheckoutBtn">Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø´Ø±Ø§Ø¡</a>
            </div>
          </div>
        </div>
      </div>

      <div class="footer">Â© <span id="year2"></span> DEX treading</div>
    </div>
  </section>

  <section class="page" id="checkout">
    <div class="container">
      <div class="sectionHead">
        <h2 id="checkoutTitle">Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø¯ÙØ¹ ÙˆØ§Ù„Ø´Ø±Ø§Ø¡</h2>
        <div class="muted" id="checkoutSubtitle">Ø§Ù…Ù„Ø£ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª + TxIDØŒ Ø«Ù… Ø§Ø¶ØºØ· â€œØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨â€.</div>
      </div>

      <div class="formGrid">
        <div class="card">
          <h3 style="margin:0 0 10px" id="customerTitle">Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„</h3>

          <form id="orderForm">
            <div class="formGrid">
              <div class="field"><label id="fullNameLabel">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label><input id="fullName" required /></div>
              <div class="field"><label id="phoneLabel">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label><input id="phone" required /></div>
              <div class="field"><label id="emailLabel">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label><input id="email" type="email" required /></div>
              <div class="field"><label id="countryLabel">Ø§Ù„Ø¯ÙˆÙ„Ø©/Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</label><input id="country" required /></div>
            </div>

            <div class="field" style="margin-top:10px">
              <label id="payMethodLabel">Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹</label>
              <select id="payMethod" required>
                <option value="bank_khartoum">Bank of Khartoum (8108407)</option>
                <option value="foory">Foory Sudan (52000220)</option>
                <option value="binance">Binance Pay (850037703)</option>
                <option value="eth">Crypto (Ethereum ERC20)</option>
              </select>
            </div>

            <div class="field">
              <label id="txLabel">TxID / Ø±Ù‚Ù… Ø§Ù„Ø¹Ù…Ù„ÙŠØ©</label>
              <input id="txid" required />
              <div class="muted small" id="txHint">Ù…Ø«Ø§Ù„: Ø±Ù‚Ù… Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¨Ù†ÙƒÙŠ Ø£Ùˆ Ù…Ø¹Ø±Ù Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø£Ùˆ TxID Ù„Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©.</div>
            </div>

            <div class="field"><label id="noteLabel">Ù…Ù„Ø§Ø­Ø¸Ø© Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label><textarea id="note"></textarea></div>

            <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:10px">
              <button class="btn ok" type="submit" id="generateBtn">ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨</button>
              <button class="btn" type="button" id="copyOrderBtn">Ù†Ø³Ø® Ù†Øµ Ø§Ù„Ø·Ù„Ø¨</button>
              <a class="btn primary" id="emailOrderBtn" href="#" target="_blank" rel="noopener">Ø¥Ø±Ø³Ø§Ù„ Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø±ÙŠØ¯</a>
            </div>

            <div style="height:10px"></div>
            <div class="notice" id="checkoutHelp">Ø¨Ø¹Ø¯ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨: Ø§Ø¶ØºØ· (Ù†Ø³Ø®) Ø«Ù… Ø£Ø±Ø³Ù„Ù‡ Ù„Ù†Ø§ Ø¹Ù„Ù‰ ÙˆØ§ØªØ³Ø§Ø¨/Ø§Ù„Ø¨Ø±ÙŠØ¯.</div>
          </form>
        </div>

        <div class="card">
          <h3 style="margin:0 0 10px" id="summaryTitle">Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨</h3>

          <div class="notice" id="emptyCartCheckout">Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©. Ø£Ø¶Ù Ù…Ù†ØªØ¬Ø§Øª Ø£ÙˆÙ„Ù‹Ø§.</div>

          <div id="summaryWrap" style="display:none">
            <div style="overflow:auto">
              <table>
                <thead>
                  <tr><th id="sumItem">Ø§Ù„ØµÙ†Ù</th><th id="sumQty">Ø§Ù„ÙƒÙ…ÙŠØ©</th><th id="sumPrice">Ø§Ù„Ø³Ø¹Ø±</th><th id="sumTotal">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th></tr>
                </thead>
                <tbody id="summaryTable"></tbody>
              </table>
            </div>

            <div style="height:10px"></div>
            <div style="display:flex;align-items:center;justify-content:space-between;gap:10px">
              <div style="font-weight:900" id="totalLabel">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹</div>
              <div style="font-weight:900" id="totalValue">0.00 USD</div>
            </div>

            <div style="height:12px"></div>
            <div class="notice">
              <div style="font-weight:900;margin-bottom:6px" id="merchantTitle">Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…</div>
              <div class="muted small" id="merchantHint">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¥Ù„Ù‰ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„ØªØ§Ù„ÙŠ:</div>
              <div style="height:8px"></div>
              <div class="mono" id="merchantEmail"></div>
            </div>

            <div style="height:12px"></div>
            <div class="notice">
              <div style="font-weight:900;margin-bottom:6px" id="ethPayTitle">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¯ÙØ¹ (ERC20)</div>
              <div class="mono" id="ethAddress3"></div>
              <div class="muted small" style="margin-top:6px" id="ethPayHint">ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ø®ØªÙŠØ§Ø± Ø´Ø¨ÙƒØ© Ethereum (ERC20).</div>
            </div>

            <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:12px">
              <button class="btn danger" type="button" id="clearCartBtnCheckout">ØªÙØ±ÙŠØº Ø§Ù„Ø³Ù„Ø©</button>
              <a class="btn" href="#home" id="backShopBtn">Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª</a>
            </div>
          </div>

          <div style="height:12px"></div>
          <div class="notice" id="orderPreviewBox" style="display:none">
            <div style="font-weight:900;margin-bottom:6px" id="orderPreviewTitle">Ù†Øµ Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø¬Ø§Ù‡Ø²</div>
            <div class="mono small" id="orderPreviewText"></div>
          </div>
        </div>
      </div>

      <div class="footer">Â© <span id="year3"></span> DEX treading</div>
    </div>
  </section>
</main>

<script>
  // ====== CONFIG ======
  var ETH_ADDRESS = "0xb56a89f790060cbb0f08d02234921e5fefff11a6";
  var MERCHANT_EMAIL = "bfars725@gmail.com";
  var CURRENCY = "USD";

  // ====== SAFE HELPERS (prevents blank site) ======
  function $(id){ return document.getElementById(id); }
  function setText(id, val){ var el=$(id); if(el) el.textContent = val; }
  function setHTML(id, val){ var el=$(id); if(el) el.innerHTML = val; }
  function setAttr(id, name, val){ var el=$(id); if(el) el.setAttribute(name, val); }

  function escapeHtml(s){
    return String(s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")
      .replace(/"/g,"&quot;").replace(/'/g,"&#039;");
  }

  // ====== PRODUCTS ======
  var PRODUCTS = [
    { id:"c_classic", category:"Courses", tag:"Course", price:10.00, icon:"course",
      name_ar:"ÙƒÙˆØ±Ø³ ØªØ¹Ù„Ù… Ø§Ù„ØªØ¯Ø§ÙˆÙ„ Ù…Ù† Ø§Ù„ØµÙØ± - Ø§Ù„ÙƒÙˆØ±Ø³ Ø§Ù„ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠ", name_en:"Trading From Zero - Classic Course",
      desc_ar:"Ù…Ø­ØªÙˆÙ‰ Ù…Ù†Ø¸Ù… Ù„Ù„Ù…Ø¨ØªØ¯Ø¦ÙŠÙ† + ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù…Ù„ÙŠ.", desc_en:"Structured beginner content + practical practice." },
    { id:"c_ict", category:"Courses", tag:"Course", price:10.00, icon:"course",
      name_ar:"ÙƒÙˆØ±Ø³ ØªØ¹Ù„Ù… Ø§Ù„ØªØ¯Ø§ÙˆÙ„ Ù…Ù† Ø§Ù„ØµÙØ± - ÙƒÙˆØ±Ø³ ICT", name_en:"Trading From Zero - ICT Course",
      desc_ar:"Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© ICT Ù…Ø¹ Ø£Ù…Ø«Ù„Ø© ÙˆØªØ·Ø¨ÙŠÙ‚.", desc_en:"ICT concepts with examples & execution." },
    { id:"c_smc", category:"Courses", tag:"Course", price:10.00, icon:"course",
      name_ar:"ÙƒÙˆØ±Ø³ ØªØ¹Ù„Ù… Ø§Ù„ØªØ¯Ø§ÙˆÙ„ Ù…Ù† Ø§Ù„ØµÙØ± - ÙƒÙˆØ±Ø³ SMC", name_en:"Trading From Zero - SMC Course",
      desc_ar:"Smart Money Concepts Ø¨Ø´ÙƒÙ„ Ù…Ø¨Ø³Ø·.", desc_en:"Smart Money Concepts simplified." },
    { id:"c_sk", category:"Courses", tag:"Course", price:10.00, icon:"course",
      name_ar:"ÙƒÙˆØ±Ø³ ØªØ¹Ù„Ù… Ø§Ù„ØªØ¯Ø§ÙˆÙ„ Ù…Ù† Ø§Ù„ØµÙØ± - ÙƒÙˆØ±Ø³ SK", name_en:"Trading From Zero - SK Course",
      desc_ar:"Ù…Ù†Ù‡Ø¬ ÙˆØ§Ø¶Ø­ + Ø£Ù…Ø«Ù„Ø© Ø¬Ø§Ù‡Ø²Ø©.", desc_en:"Clear framework + ready examples." },
    { id:"usdt", category:"USDT", tag:"Service", price:10.00, icon:"usdt",
      name_ar:"Ø´Ø­Ù† USDT", name_en:"USDT Top-up",
      desc_ar:"Ø´Ø­Ù† Ø³Ø±ÙŠØ¹ ÙˆØ¢Ù…Ù† Ø­Ø³Ø¨ Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª.", desc_en:"Fast & secure top-up as instructed." },
    { id:"ex_create", category:"Exness", tag:"Service", price:10.00, icon:"ex",
      name_ar:"Ø­Ø³Ø§Ø¨Ø§Øª Ø§ÙƒØ³Ù†Ø³ - Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨Ø§Øª Exness", name_en:"Exness - Account Creation",
      desc_ar:"Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ù…Ø¹ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ØµØ­ÙŠØ­Ø©.", desc_en:"Create account with correct setup." },
    { id:"ex_proof", category:"Exness", tag:"Service", price:10.00, icon:"proof",
      name_ar:"Ø­Ø³Ø§Ø¨Ø§Øª Ø§ÙƒØ³Ù†Ø³ - ØªÙˆØ«ÙŠÙ‚ Ø§Ù„Ø³ÙƒÙ† Ù„Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø¬Ø§Ù‡Ø²Ø©", name_en:"Exness - Proof of Residence (Ready Accounts)",
      desc_ar:"Ù…Ø³Ø§Ø¹Ø¯Ø© ÙÙŠ ØªÙˆØ«ÙŠÙ‚ Ø§Ù„Ø³ÙƒÙ† Ù„Ù„Ø­Ø³Ø§Ø¨.", desc_en:"Help with proof of residence verification." },
    { id:"bot_gold", category:"Bots", tag:"Bot", price:50.00, icon:"gold",
      name_ar:"Ø¨ÙˆØªØ§Øª Ø§Ù„ØªØ¯Ø§ÙˆÙ„ Ø§Ù„Ø¢Ù„ÙŠ - Ø¨ÙˆØª ØªØ¯Ø§ÙˆÙ„ Ø§Ù„Ø°Ù‡Ø¨", name_en:"Auto Trading Bots - Gold Bot",
      desc_ar:"Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…Ø­Ø³Ù‘Ù†Ø© Ù„ØªØ¯Ø§ÙˆÙ„ Ø§Ù„Ø°Ù‡Ø¨.", desc_en:"Optimized settings for Gold trading." },
    { id:"bot_fx", category:"Bots", tag:"Bot", price:30.00, icon:"fx",
      name_ar:"Ø¨ÙˆØªØ§Øª Ø§Ù„ØªØ¯Ø§ÙˆÙ„ Ø§Ù„Ø¢Ù„ÙŠ - Ø¨ÙˆØª ØªØ¯Ø§ÙˆÙ„ Ø§Ù„Ø£Ø²ÙˆØ§Ø¬", name_en:"Auto Trading Bots - FX Pairs Bot",
      desc_ar:"ØªØ¯Ø§ÙˆÙ„ Ø£Ø²ÙˆØ§Ø¬ Ø§Ù„ÙÙˆØ±ÙƒØ³ Ø¢Ù„ÙŠÙ‹Ø§.", desc_en:"Automate FX pairs trading." },
    { id:"bot_stk", category:"Bots", tag:"Bot", price:30.00, icon:"stocks",
      name_ar:"Ø¨ÙˆØªØ§Øª Ø§Ù„ØªØ¯Ø§ÙˆÙ„ Ø§Ù„Ø¢Ù„ÙŠ - Ø¨ÙˆØª ØªØ¯Ø§ÙˆÙ„ Ø§Ù„Ø£Ø³Ù‡Ù… ÙˆØ§Ù„Ù…Ø¤Ø´Ø±Ø§Øª", name_en:"Auto Trading Bots - Stocks & Indices Bot",
      desc_ar:"Ø¨ÙˆØª Ù„Ù„Ø£Ø³Ù‡Ù… ÙˆØ§Ù„Ù…Ø¤Ø´Ø±Ø§Øª Ø¨Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙˆØ§Ø¶Ø­Ø©.", desc_en:"Stocks & indices bot with clear presets." },
    { id:"bot_crypto", category:"Bots", tag:"Bot", price:30.00, icon:"crypto",
      name_ar:"Ø¨ÙˆØªØ§Øª Ø§Ù„ØªØ¯Ø§ÙˆÙ„ Ø§Ù„Ø¢Ù„ÙŠ - Ø¨ÙˆØª ØªØ¯Ø§ÙˆÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©", name_en:"Auto Trading Bots - Crypto Bot",
      desc_ar:"Ø¨ÙˆØª Ù„Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ© Ù…Ø¹ Ø¥Ø¯Ø§Ø±Ø© Ù…Ø®Ø§Ø·Ø±.", desc_en:"Crypto bot with risk management." }
  ];

  // ====== i18n ======
  var I18N = {
    ar:{
      tagline:"Ù…Ø¹Ù‹Ø§ Ù„Ù†Ø´Ø± Ø§Ù„Ù…Ø¹Ø±ÙØ© Ø§Ù„Ù…Ø§Ù„ÙŠØ© ÙÙŠ Ø¯ÙˆÙ„ Ø£ÙØ±ÙŠÙ‚ÙŠØ§ Ùˆ Ø´Ù…Ø§Ù„ Ø£ÙØ±ÙŠÙ‚ÙŠØ§",
      navHome:"Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©", navServices:"Ø§Ù„Ø®Ø¯Ù…Ø§Øª ÙˆØ§Ù„Ø£Ø³Ø¹Ø§Ø±", navCheckout:"Ø§Ù„Ø¯ÙØ¹ ÙˆØ§Ù„Ø´Ø±Ø§Ø¡",
      cart:"Ø§Ù„Ø³Ù„Ø©", emptyCart:"Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©. Ø£Ø¶Ù Ù…Ù†ØªØ¬Ø§Øª Ø£ÙˆÙ„Ù‹Ø§.",
      add:"Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©", subtotal:"Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ", clear:"ØªÙØ±ÙŠØº Ø§Ù„Ø³Ù„Ø©", goCheckout:"Ø§Ù„Ø°Ù‡Ø§Ø¨ Ù„Ù„Ø¯ÙØ¹",
      email:"bfars725@gmail.com"
    },
    en:{
      tagline:"Together to spread financial knowledge in Africa & North Africa",
      navHome:"Home", navServices:"Services & Pricing", navCheckout:"Checkout",
      cart:"Cart", emptyCart:"Your cart is empty. Add items first.",
      add:"Add to cart", subtotal:"Total", clear:"Clear cart", goCheckout:"Go to checkout",
      email:"bfars725@gmail.com"
    }
  };

  // ====== STATE ======
  var CART_KEY="dex_cart_v4", LANG_KEY="dex_lang_v4";
  function getLang(){ return localStorage.getItem(LANG_KEY) || "ar"; }
  function setLang(l){ localStorage.setItem(LANG_KEY,l); applyLang(); renderAll(); }
  function getCart(){ try{return JSON.parse(localStorage.getItem(CART_KEY))||[];}catch(e){return[];} }
  function saveCart(c){ localStorage.setItem(CART_KEY, JSON.stringify(c)); }
  function findProduct(id){ for(var i=0;i<PRODUCTS.length;i++) if(PRODUCTS[i].id===id) return PRODUCTS[i]; return null; }
  function cartDetailed(){
    var cart=getCart(), out=[];
    for(var i=0;i<cart.length;i++){ var p=findProduct(cart[i].id); if(p) out.push({p:p, qty:cart[i].qty}); }
    return out;
  }
  function cartCount(){ var cart=getCart(), n=0; for(var i=0;i<cart.length;i++) n+=cart[i].qty; return n; }
  function cartTotal(){ var items=cartDetailed(), s=0; for(var i=0;i<items.length;i++) s += items[i].p.price*items[i].qty; return s; }

  function addToCart(id){
    var cart=getCart(), found=false;
    for(var i=0;i<cart.length;i++){ if(cart[i].id===id){ cart[i].qty++; found=true; break; } }
    if(!found) cart.push({id:id, qty:1});
    saveCart(cart); renderAll(); openCart();
  }
  function setQty(id, qty){
    var cart=getCart(), next=[];
    for(var i=0;i<cart.length;i++){
      if(cart[i].id===id){ next.push({id:id, qty: Math.max(1, qty)}); }
      else next.push(cart[i]);
    }
    saveCart(next); renderAll();
  }
  function removeFromCart(id){
    var cart=getCart(), next=[];
    for(var i=0;i<cart.length;i++) if(cart[i].id!==id) next.push(cart[i]);
    saveCart(next); renderAll();
  }
  function clearCart(){ saveCart([]); renderAll(); }

  // ====== ROUTER ======
  function setActivePage(){
    var hash=(location.hash||"#home").replace("#","");
    var pages=document.querySelectorAll(".page");
    for(var i=0;i<pages.length;i++) pages[i].classList.remove("active");
    var page=$(hash) || $("home");
    if(page) page.classList.add("active");
    window.scrollTo({top:0, behavior:"auto"});
    renderAll();
  }
  window.addEventListener("hashchange", setActivePage);

  // ====== DRAWER ======
  function openCart(){ $("overlay").classList.add("show"); $("drawer").classList.add("show"); }
  function closeCart(){ $("overlay").classList.remove("show"); $("drawer").classList.remove("show"); }

  // ====== SVG ICONS ======
  function iconSVG(type){
    var stroke="rgba(255,255,255,.85)";
    function base(content){
      return '<svg class="svg" viewBox="0 0 96 96" fill="none" xmlns="http://www.w3.org/2000/svg">'+
        '<defs><linearGradient id="g1" x1="12" y1="10" x2="84" y2="86"><stop stop-color="rgba(30,91,255,.20)"/><stop offset="1" stop-color="rgba(79,124,255,.18)"/></linearGradient></defs>'+
        '<rect x="10" y="10" width="76" height="76" rx="22" fill="url(#g1)" stroke="rgba(255,255,255,.12)"/>'+
        content+'</svg>';
    }
    if(type==="usdt") return base('<circle cx="48" cy="48" r="18" stroke="'+stroke+'" stroke-width="2"/><path d="M38 41h20M40 48h16M38 55h20" stroke="'+stroke+'" stroke-width="2" stroke-linecap="round"/><path d="M48 30v36" stroke="'+stroke+'" stroke-width="2" stroke-linecap="round"/>');
    if(type==="gold") return base('<path d="M28 54l10-20h20l10 20-10 10H38L28 54z" stroke="'+stroke+'" stroke-width="2" fill="rgba(255,176,32,.14)"/><path d="M38 34l10 20 10-20" stroke="'+stroke+'" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>');
    if(type==="crypto") return base('<path d="M48 28l14 10v20L48 68 34 58V38l14-10z" stroke="'+stroke+'" stroke-width="2"/><path d="M48 34v28" stroke="'+stroke+'" stroke-width="2" stroke-linecap="round"/>');
    if(type==="fx") return base('<path d="M28 60c10-18 18-18 28 0" stroke="'+stroke+'" stroke-width="2" stroke-linecap="round"/><path d="M40 36h28" stroke="'+stroke+'" stroke-width="2" stroke-linecap="round"/>');
    if(type==="stocks") return base('<path d="M30 62V46m12 16V38m12 24V44m12 18V34" stroke="'+stroke+'" stroke-width="2" stroke-linecap="round"/><path d="M28 66h40" stroke="'+stroke+'" stroke-width="2" stroke-linecap="round"/>');
    if(type==="ex") return base('<path d="M30 58V38h10l8 10 8-10h10v20H56l-8-10-8 10H30z" stroke="'+stroke+'" stroke-width="2" stroke-linejoin="round"/>');
    if(type==="proof") return base('<path d="M34 30h28v36H34V30z" stroke="'+stroke+'" stroke-width="2" stroke-linejoin="round"/><path d="M40 40h16M40 48h16M40 56h12" stroke="'+stroke+'" stroke-width="2" stroke-linecap="round"/>');
    return base('<path d="M30 40l18-8 18 8-18 8-18-8z" stroke="'+stroke+'" stroke-width="2"/><path d="M30 40v16l18 8 18-8V40" stroke="'+stroke+'" stroke-width="2"/>');
  }

  // ====== RENDER ======
  function applyLang(){
    var lang=getLang();
    document.documentElement.lang=lang;
    document.documentElement.dir=(lang==="ar")?"rtl":"ltr";
    setText("tagline", I18N[lang].tagline);
    setText("navHome", I18N[lang].navHome);
    setText("navServices", I18N[lang].navServices);
    setText("navCheckout", I18N[lang].navCheckout);
    setText("cartBtnText", I18N[lang].cart);
    setText("cartTitle", I18N[lang].cart);
    setText("cartEmptyNotice", I18N[lang].emptyCart);
    setText("subtotalLabel", I18N[lang].subtotal);
    setText("clearCartBtn", I18N[lang].clear);
    setText("goCheckoutFromCart", I18N[lang].goCheckout);
  }

  function renderProducts(){
    var lang=getLang();
    var grid=$("productsGrid");
    if(!grid) return;

    var html="";
    for(var i=0;i<PRODUCTS.length;i++){
      var p=PRODUCTS[i];
      var title=(lang==="ar")?p.name_ar:p.name_en;
      var desc=(lang==="ar")?p.desc_ar:p.desc_en;

      html += '<div class="product">'+
        '<div class="pMedia"><div class="pBadges">'+
          '<span class="badge">'+p.tag+'</span>'+
          '<span class="badge">'+p.price.toFixed(2)+' '+CURRENCY+'</span>'+
        '</div>'+iconSVG(p.icon)+'</div>'+
        '<div class="pBody">'+
          '<div class="pTitle">'+escapeHtml(title)+'</div>'+
          '<div class="pDesc">'+escapeHtml(desc)+'</div>'+
          '<div class="pFooter">'+
            '<div class="price">'+p.price.toFixed(2)+' '+CURRENCY+'</div>'+
            '<button class="btn primary" type="button" data-add="'+p.id+'">'+(I18N[lang].add)+'</button>'+
          '</div></div></div>';
    }
    grid.innerHTML = html;

    var btns = grid.querySelectorAll("[data-add]");
    for(var j=0;j<btns.length;j++){
      (function(b){ b.addEventListener("click", function(){ addToCart(b.getAttribute("data-add")); }); })(btns[j]);
    }
  }

  function renderPricingTable(){
    var tbody=$("pricingTable"); if(!tbody) return;
    var lang=getLang();
    var rows="";
    for(var i=0;i<PRODUCTS.length;i++){
      var p=PRODUCTS[i];
      rows += "<tr><td>"+escapeHtml((lang==="ar")?p.name_ar:p.name_en)+"</td><td>"+escapeHtml(p.category)+"</td><td>"+p.price.toFixed(2)+" "+CURRENCY+"</td></tr>";
    }
    tbody.innerHTML = rows;
  }

  function renderCart(){
    setText("ethAddress", ETH_ADDRESS);
    setText("ethAddress2", ETH_ADDRESS);
    setText("ethAddress3", ETH_ADDRESS);

    var items=cartDetailed();
    var box=$("cartItems"); if(!box) return;
    var empty=$("cartEmptyNotice");

    if(items.length===0){
      if(empty) empty.style.display="block";
      box.innerHTML="";
    } else {
      if(empty) empty.style.display="none";
      var html="";
      for(var i=0;i<items.length;i++){
        var it=items[i], p=it.p;
        var name=(getLang()==="ar")?p.name_ar:p.name_en;
        html += '<div class="cartItem">'+
          '<div class="ciLeft"><div class="ciIcon">ğŸ›’</div><div><div class="ciName">'+escapeHtml(name)+'</div>'+
          '<div class="ciMeta">'+p.price.toFixed(2)+' '+CURRENCY+'</div></div></div>'+
          '<div class="ciRight"><div class="qty">'+
            '<button type="button" data-dec="'+p.id+'">âˆ’</button><span>'+it.qty+'</span>'+
            '<button type="button" data-inc="'+p.id+'">+</button></div>'+
            '<button class="btn danger" type="button" data-rm="'+p.id+'">âœ•</button></div></div>';
      }
      box.innerHTML = html;

      var inc=box.querySelectorAll("[data-inc]");
      for(var a=0;a<inc.length;a++){
        (function(btn){ btn.addEventListener("click", function(){
          var id=btn.getAttribute("data-inc"); var cart=getCart();
          for(var k=0;k<cart.length;k++) if(cart[k].id===id){ setQty(id, cart[k].qty+1); break; }
        }); })(inc[a]);
      }
      var dec=box.querySelectorAll("[data-dec]");
      for(var b=0;b<dec.length;b++){
        (function(btn){ btn.addEventListener("click", function(){
          var id=btn.getAttribute("data-dec"); var cart=getCart();
          for(var k=0;k<cart.length;k++) if(cart[k].id===id){ setQty(id, cart[k].qty-1); break; }
        }); })(dec[b]);
      }
      var rm=box.querySelectorAll("[data-rm]");
      for(var c=0;c<rm.length;c++){
        (function(btn){ btn.addEventListener("click", function(){ removeFromCart(btn.getAttribute("data-rm")); }); })(rm[c]);
      }
    }

    setText("subtotalValue", cartTotal().toFixed(2)+" "+CURRENCY);

    var count=cartCount();
    var bubble=$("cartCountBubble");
    if(bubble){
      if(count>0){ bubble.style.display="grid"; bubble.textContent=String(count); }
      else bubble.style.display="none";
    }

    // Checkout side
    setText("merchantEmail", MERCHANT_EMAIL);

    var emptyBox=$("emptyCartCheckout");
    var wrap=$("summaryWrap");
    var table=$("summaryTable");
    if(!emptyBox || !wrap || !table) return;

    if(items.length===0){
      emptyBox.style.display="block";
      setText("emptyCartCheckout", I18N[getLang()].emptyCart);
      wrap.style.display="none";
      $("orderPreviewBox").style.display="none";
      return;
    }

    emptyBox.style.display="none";
    wrap.style.display="block";

    var rows="";
    for(var i=0;i<items.length;i++){
      var it=items[i], p=it.p;
      var name=(getLang()==="ar")?p.name_ar:p.name_en;
      rows += "<tr><td>"+escapeHtml(name)+"</td><td>"+it.qty+"</td><td>"+p.price.toFixed(2)+" "+CURRENCY+"</td><td>"+(p.price*it.qty).toFixed(2)+" "+CURRENCY+"</td></tr>";
    }
    table.innerHTML = rows;
    setText("totalValue", cartTotal().toFixed(2)+" "+CURRENCY);
  }

  function renderAll(){
    renderProducts();
    renderPricingTable();
    renderCart();
  }

  function copyText(text){
    if(navigator.clipboard && navigator.clipboard.writeText) return navigator.clipboard.writeText(text);
    var ta=document.createElement("textarea"); ta.value=text; document.body.appendChild(ta); ta.select();
    try{ document.execCommand("copy"); }catch(e){}
    document.body.removeChild(ta); return Promise.resolve();
  }

  function buildOrderText(){
    var items=cartDetailed();
    var lines=[];
    lines.push("DEX treading - Order");
    lines.push("--------------------------------");
    lines.push("Name: "+$("fullName").value.trim());
    lines.push("Phone: "+$("phone").value.trim());
    lines.push("Email: "+$("email").value.trim());
    lines.push("Country/City: "+$("country").value.trim());
    lines.push("Payment method: "+$("payMethod").value);
    lines.push("TxID/Ref: "+$("txid").value.trim());
    var note=$("note").value.trim(); if(note) lines.push("Note: "+note);
    lines.push("--------------------------------");
    lines.push("Items:");
    for(var i=0;i<items.length;i++){
      var it=items[i], p=it.p;
      var name=(getLang()==="ar")?p.name_ar:p.name_en;
      lines.push("- "+name+" | Qty: "+it.qty+" | "+(p.price*it.qty).toFixed(2)+" "+CURRENCY);
    }
    lines.push("--------------------------------");
    lines.push("TOTAL: "+cartTotal().toFixed(2)+" "+CURRENCY);
    lines.push("ETH (ERC20): "+ETH_ADDRESS);
    return lines.join("\n");
  }

  function setEmailLink(orderText){
    var subject=encodeURIComponent("DEX treading - New Order");
    var body=encodeURIComponent(orderText);
    setAttr("emailOrderBtn","href","mailto:"+encodeURIComponent(MERCHANT_EMAIL)+"?subject="+subject+"&body="+body);
  }

  // ====== EVENTS ======
  function bind(){
    $("overlay").addEventListener("click", closeCart);
    $("openCartBtn").addEventListener("click", openCart);
    $("closeCartBtn").addEventListener("click", closeCart);
    $("clearCartBtn").addEventListener("click", clearCart);
    $("clearCartBtnCheckout").addEventListener("click", clearCart);

    $("langBtn").addEventListener("click", function(){
      setLang(getLang()==="ar" ? "en" : "ar");
      $("langBtn").textContent = (getLang()==="ar") ? "EN" : "AR";
    });

    function copyEth(){
      copyText(ETH_ADDRESS);
    }
    $("copyEthBtn").addEventListener("click", copyEth);
    $("copyEthTopBtn").addEventListener("click", copyEth);

    $("orderForm").addEventListener("submit", function(e){
      e.preventDefault();
      if(cartDetailed().length===0){ alert(I18N[getLang()].emptyCart); return; }

      var required = ["fullName","phone","email","country","txid"];
      for(var i=0;i<required.length;i++){
        if(!$(required[i]).value.trim()){ alert("Please fill all required fields."); return; }
      }

      var txt = buildOrderText();
      $("orderPreviewBox").style.display="block";
      $("orderPreviewText").textContent = txt;
      setEmailLink(txt);
      localStorage.setItem("dex_last_order_text", txt);
    });

    $("copyOrderBtn").addEventListener("click", function(){
      var txt = $("orderPreviewText").textContent || localStorage.getItem("dex_last_order_text") || "";
      if(!txt){ alert("Generate the order first."); return; }
      copyText(txt);
    });

    window.addEventListener("hashchange", setActivePage);
  }

  // ====== INIT ======
  setText("year", new Date().getFullYear());
  setText("year2", new Date().getFullYear());
  setText("year3", new Date().getFullYear());

  // default address
  setText("ethAddress", ETH_ADDRESS);
  setText("ethAddress2", ETH_ADDRESS);
  setText("ethAddress3", ETH_ADDRESS);

  applyLang();
  bind();
  setActivePage();
  renderAll();
</script>
</body>
  </html>
